import{initializeApp as d}from"https://www.gstatic.com/firebasejs/9.30.0/firebase-app.js";import{getDatabase as l,ref as p,onValue as u}from"https://www.gstatic.com/firebasejs/9.30.0/firebase-database.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function o(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(e){if(e.ep)return;e.ep=!0;const r=o(e);fetch(e.href,r)}})();const f={apiKey:"AIzaSyA6sbgEfeTBvT_zQbdJtErAzK_8s7rcUoU",authDomain:"myproject-d8e61.firebaseapp.com",projectId:"myproject-d8e61",storageBucket:"myproject-d8e61.firebasestorage.app",messagingSenderId:"270167245798",appId:"1:270167245798:web:b38511a3b10deaf5d9cc27",measurementId:"G-LJ40CBFL0Q",databaseURL:"https://myproject-d8e61-default-rtdb.firebaseio.com/"},m=d(f),g=l(m),y="sensors",c=document.querySelector("#tbl tbody");function b(t){if(c.innerHTML="",!t){c.innerHTML='<tr><td colspan="5">No data found.</td></tr>';return}Object.entries(t).forEach(([n,o])=>{const i=o.ImageURL?`<img class="thumb" src="${o.ImageURL}" alt="${n}">`:"",e=document.createElement("tr");e.innerHTML=`
          <td>${s(n)}</td>
          <td>${s(o.Humidity??"")}</td>
          <td>${i}</td>
          <td>${s(o.Light_Intensity??o.Light??"")}</td>
          <td>${s(o.temperature??o.Temperature??"")}</td>
        `,c.appendChild(e)})}const L=p(g,y);u(L,t=>{b(t.val())},t=>{c.innerHTML=`<tr><td colspan="5">Error reading DB: ${s(t.message||t)}</td></tr>`,console.error(t)});function s(t){return String(t).replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;")}
